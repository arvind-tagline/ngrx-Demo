"use strict";(self.webpackChunkngrx_demo=self.webpackChunkngrx_demo||[]).push([[593],{4593:(J,m,d)=>{d.r(m),d.d(m,{PostsModule:()=>L});var c=d(9808),l=d(6533),a=d(2532),r=d(2323);const Z=(0,r.PH)("[posts page] add post",(0,r.Ky)()),h=(0,r.PH)("[posts page] update post",(0,r.Ky)()),g=(0,r.PH)("[posts page] delete post",(0,r.Ky)()),T=(0,r.ZF)("posts"),q=(0,r.P1)(T,o=>o.posts),b=(0,r.P1)(T,(o,i)=>o.posts.find(s=>s.id===i.id));var t=d(5e3),n=d(2382);const _=function(o){return["update/",o]};function U(o,i){if(1&o){const s=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"th",19),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"i",20),t.qZA(),t.TgZ(9,"td"),t.TgZ(10,"i",21),t.NdJ("click",function(){const u=t.CHM(s).$implicit;return t.oxw(2).deletePostId(u.id)}),t.qZA(),t.qZA(),t.qZA()}if(2&o){const s=i.$implicit;t.xp6(2),t.Oqu(s.id),t.xp6(2),t.Oqu(s.title),t.xp6(2),t.Oqu(s.description),t.xp6(2),t.Q6J("routerLink",t.VKq(4,_,s.id))}}function y(o,i){if(1&o&&(t.TgZ(0,"table",16),t.TgZ(1,"thead"),t.TgZ(2,"tr"),t.TgZ(3,"th",17),t._uU(4,"Id"),t.qZA(),t.TgZ(5,"th",17),t._uU(6,"Title"),t.qZA(),t.TgZ(7,"th",17),t._uU(8,"Description"),t.qZA(),t.TgZ(9,"th",17),t._uU(10,"Update"),t.qZA(),t.TgZ(11,"th",17),t._uU(12,"Delete"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"tbody"),t.YNc(14,U,11,6,"tr",18),t.qZA(),t.qZA()),2&o){const s=i.ngIf;t.xp6(14),t.Q6J("ngForOf",s)}}let v=(()=>{class o{constructor(s,e){this.store=s,this.fb=e}ngOnInit(){this.store.dispatch((0,a.M8)({status:!0})),this.posts=this.store.select(q),setTimeout(()=>{this.store.dispatch((0,a.M8)({status:!1}))},1e3)}getPostId(s){this.postId=s}updatePost(){this.store.select(b,{postId:this.postId}).subscribe(e=>{console.log("data",e)}),console.log("this.postId",this.postId)}deletePostId(s){confirm("Are you sure you want to delete this post.")&&this.store.dispatch(g({id:s})),this.store.dispatch((0,a.M8)({status:!0})),setTimeout(()=>{this.store.dispatch((0,a.M8)({status:!1}))},1e3)}}return o.\u0275fac=function(s){return new(s||o)(t.Y36(r.yh),t.Y36(n.qu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-posts-list"]],decls:25,vars:3,consts:[[1,"row","m-3","justify-content-center"],[1,"text-center"],[1,"col-sm-8"],["routerLink","/post/add",1,"btn","btn-primary"],["class","table table-hover",4,"ngIf"],[1,"col-sm-4"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"far","fa-edit","text-warning",3,"routerLink"],[1,"fas","fa-trash-alt","text-danger",3,"click"]],template:function(s,e){1&s&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2,"Posts List"),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"div"),t.TgZ(5,"button",3),t._uU(6,"Add Post"),t.qZA(),t.qZA(),t.YNc(7,y,15,1,"table",4),t.ALo(8,"async"),t.qZA(),t.TgZ(9,"div",5),t._UZ(10,"router-outlet"),t.qZA(),t.qZA(),t.TgZ(11,"div",6),t.TgZ(12,"div",7),t.TgZ(13,"div",8),t.TgZ(14,"div",9),t.TgZ(15,"h5",10),t._uU(16,"Conformation Box"),t.qZA(),t._UZ(17,"button",11),t.qZA(),t.TgZ(18,"div",12),t._uU(19," Are you sure you want to delete this post. "),t.qZA(),t.TgZ(20,"div",13),t.TgZ(21,"button",14),t._uU(22,"Close"),t.qZA(),t.TgZ(23,"button",15),t._uU(24,"Delete Post"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&s&&(t.xp6(7),t.Q6J("ngIf",t.lcZ(8,1,e.posts)))},directives:[l.rH,c.O5,c.sg,l.lC],pipes:[c.Ov],styles:[""]}),o})(),C=(()=>{class o{constructor(s,e){this.fb=s,this.store=e,this.postForm=this.fb.group({title:["",[n.kI.required]],description:["",[n.kI.required]]})}ngOnInit(){}onAdd(){const s={title:this.postForm.value.title,description:this.postForm.value.description};this.store.dispatch((0,a.M8)({status:!0})),this.store.dispatch(Z({post:s})),this.postForm.reset(),setTimeout(()=>{this.store.dispatch((0,a.M8)({status:!1}))},1e3)}}return o.\u0275fac=function(s){return new(s||o)(t.Y36(n.qu),t.Y36(r.yh))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-post"]],decls:13,vars:2,consts:[[3,"formGroup"],[1,"mb-3"],[1,"form-label"],["type","text","placeholder","Enter Title","formControlName","title",1,"form-control"],["placeholder","Enter Description","formControlName","description",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(s,e){1&s&&(t.TgZ(0,"form",0),t.TgZ(1,"h1"),t._uU(2,"Add Post"),t.qZA(),t.TgZ(3,"div",1),t.TgZ(4,"label",2),t._uU(5,"Title"),t.qZA(),t._UZ(6,"input",3),t.qZA(),t.TgZ(7,"div",1),t.TgZ(8,"label",2),t._uU(9,"Description"),t.qZA(),t._UZ(10,"textarea",4),t.qZA(),t.TgZ(11,"button",5),t.NdJ("click",function(){return e.onAdd()}),t._uU(12,"Add Post"),t.qZA(),t.qZA()),2&s&&(t.Q6J("formGroup",e.postForm),t.xp6(11),t.Q6J("disabled",!e.postForm.valid))},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u],styles:[""]}),o})(),F=(()=>{class o{constructor(s,e,p,u){this.store=s,this.fb=e,this.route=p,this.router=u}ngOnInit(){this.route.paramMap.subscribe(s=>{const e=s.get("id");this.subscriptions=this.store.select(b,{id:e}).subscribe(p=>{this.postData=p,console.log("this.postData",this.postData),this.updateForm=this.fb.group({title:new n.NI(this.postData.title),description:new n.NI(this.postData.description)})})})}onUpdate(){const p={id:this.postData.id,title:this.updateForm.value.title,description:this.updateForm.value.description};this.store.dispatch((0,a.M8)({status:!0})),this.store.dispatch(h({post:p})),this.router.navigate(["post"]),setTimeout(()=>{this.store.dispatch((0,a.M8)({status:!1}))},1e3)}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}}return o.\u0275fac=function(s){return new(s||o)(t.Y36(r.yh),t.Y36(n.qu),t.Y36(l.gz),t.Y36(l.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-update-post"]],decls:13,vars:2,consts:[[3,"formGroup"],[1,"mb-3"],[1,"form-label"],["type","text","placeholder","Enter Title","formControlName","title",1,"form-control"],["placeholder","Enter Description","formControlName","description",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(s,e){1&s&&(t.TgZ(0,"form",0),t.TgZ(1,"h1"),t._uU(2,"Update Post"),t.qZA(),t.TgZ(3,"div",1),t.TgZ(4,"label",2),t._uU(5,"Title"),t.qZA(),t._UZ(6,"input",3),t.qZA(),t.TgZ(7,"div",1),t.TgZ(8,"label",2),t._uU(9,"Description"),t.qZA(),t._UZ(10,"textarea",4),t.qZA(),t.TgZ(11,"button",5),t.NdJ("click",function(){return e.onUpdate()}),t._uU(12,"Update Post"),t.qZA(),t.qZA()),2&s&&(t.Q6J("formGroup",e.updateForm),t.xp6(11),t.Q6J("disabled",!e.updateForm.valid))},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u],styles:[""]}),o})();const x=(0,r.Lq)({posts:[{id:"1",title:"Test 1",description:"This is a test 1 description"},{id:"2",title:"Test 2",description:"This is a test 2 description"},{id:"3",title:"Test 3",description:"This is a test 3 description"},{id:"4",title:"Test 4",description:"This is a test 4 description"}]},(0,r.on)(Z,(o,i)=>{console.log("action",i);let s=Object.assign({},i.post);return s.id=(o.posts.length+1).toString(),Object.assign(Object.assign({},o),{posts:[...o.posts,s]})}),(0,r.on)(h,(o,i)=>{const s=o.posts.map(e=>i.post.id===e.id?i.post:e);return Object.assign(Object.assign({},o),{posts:s})}),(0,r.on)(g,(o,{id:i})=>{console.log("state",o);const s=o.posts.filter(e=>e.id!==i);return console.log("updatedPost :>> ",s),Object.assign(Object.assign({},o),{posts:s})}));function I(o,i){return x(o,i)}const D=[{path:"",component:v,children:[{path:"add",component:C},{path:"update/:id",component:F}]}];let L=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.ez,n.UX,l.Bz.forChild(D),r.Aw.forFeature("posts",I)]]}),o})()}}]);